<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Musee D'Osmanthus</title>
<link rel="icon" type="image/x-icon" href = "favicon/favicon.ico" />
<link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
<link rel="icon" sizes="192x192" href="favicon/android-chrome-192x192.png" />
<link rel="icon" sizes="512x512" href="favicon/android-chrome-512x512.png" />
<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png" />
<link rel="manifest" href="favicon/site.webmanifest" />
<meta name="msapplication-TileColor" content="#da532c" />
<meta name="msapplication-TileImage" content="favicon/mstile-150x150.png" />
<meta name="theme-color" content="#ffffff" />
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Baskervville&display=swap" rel="stylesheet">
<script src="https://zimjs.org/cdn/1.3.2/createjs.js"></script>
<script src="https://zimjs.org/cdn/cat/02/zim.js"></script>
<script>
// https://zimjs.com - JavaScript Canvas Framework - Code Creativity!

const claudeMonet=[
"Claude Monet, Boulevard des Capucines, 1873.jpg",
"Claude Monet, Cliff Walk at Pourville, 1882.jpg",
"Claude Monet, Haystacks at Giverny, 1890.jpg",
"Claude Monet, Haystacks, 1890.jpg",
"Claude Monet, Houses of Parliament, 1904.jpg",
"Claude Monet, Impression Sunrise, 1872.jpg",
"Claude Monet, Luncheon on the Grass, 1866.jpg",
"Claude Monet, Red Boats at Argenteuil,1875.jpg",
"Claude Monet, Rouen Cathedral.jpg",
"Claude Monet, San Giorgio Maggiore at Dusk, 1908.jpg",
"Claude Monet, SunFlowers, 1881.jpg",
"Claude Monet, The Artist's Garden at Giverny, 1900.jpg",
"Claude Monet, The Boot at Giverny, 1877.jpg",
"Claude Monet, The Cliff, Étretat, 1882.jpg",
"Claude Monet, The Garden at Sainte-Adresse, 1967.jpg",
"Claude Monet, The Houses of Parliament, 1904.jpg",
"Claude Monet, The Locomotive, 1875.jpg",
"Claude Monet, The Lunch, 1876.jpg",
"Claude Monet, The Poppy Field near Argenteuil, 1873.jpg",
"Claude Monet, The Water Lily Pond, 1899.jpg",
"Claude Monet, Water Lilies Agapanthus, 1914.jpg",
"Claude Monet, Waterloo Bridge, 1903.jpg",
"Claude Monet, Woman with a Parasol, 1875.jpg"];

const edgarDegas=["Edgar Degas, Ballet Rehearsal on Stage, 1874.jpg",
"Edgar Degas, Ballet Rehearsal on Stage, 1974.jpg",
"Edgar Degas, Breakfast After the Bath, 1883.jpg",
"Edgar Degas, Dancers at the Barre, 1880.jpg",
"Edgar Degas, Dancers, 1889.jpg",
"Edgar Degas, Dancing Class, 1871.jpg",
"Edgar Degas, In a Café, 1873.jpg",
"Edgar Degas, Interior, 1868.jpg",
"Edgar Degas, Rehearsal in the Studio, 1878.jpg",
"Edgar Degas, The Millinery Shop, 1884.jpg",
"Edgar Degas, The Pink Dancers before the Ballet, 1884.jpg",
"Edgar Degas, The Star, 1878.jpg",
"Edgar Degas, The Tub, 1886.jpg",
"Edgar Degas, Woman Drying Herself, 1903.jpg",
"Edgar Degas, Young Spartans Exercising, 1860.jpg",
"Edgar Degas, Young Woman with Ibis, 1860.jpg"
];
const marcChagall=["Marc Chagall, A Wheatfield on a Summer's Afternoon, 1942.jpg",
"Marc Chagall, Bridges over the Seine, 1954.jpg",
"Marc Chagall, Circus Horse, 1964.jpg",
"Marc Chagall, Exodus, 1952-66.jpg",
"Marc Chagall, Flower Bouquet, 1982.jpg",
"Marc Chagall, I and the Village, 1911.jpg",
"Marc Chagall, Lovers in the Lilacs, 1930.jpg",
"Marc Chagall, Newlyweds with Paris in the Background, 1980.jpg",
"Marc Chagall, Over Vitebsk, 1913.jpg",
"Marc Chagall, Paris Through the Window, 1913.jpg",
"Marc Chagall, Song of Songs, 1974.jpg",
"Marc Chagall, The Concert, 1957.jpg",
"Marc Chagall, View of Paris, 1969.jpg"
];
const pabloPicasso=["Pablo Picasso, Asleep, 1932.jpg",
"Pablo Picasso, Crucifixion, 1930.jpg",
"Pablo Picasso, Dance with Veils, 1907.jpg",
"Pablo Picasso, Dora Maar au Chat, 1941.jpg",
"Pablo Picasso, Factory at Horto de Ebro, 1909.jpg",
"Pablo Picasso, Figure At The Seaside, 1931.jpg",
"Pablo Picasso, Guernica, 1937.jpg",
"Pablo Picasso, House on the Hill, 1902.jpg",
"Pablo Picasso, Jacqueline Kneeling, 1954.jpg",
"Pablo Picasso, Landscape Mougins, 1965.jpg",
"Pablo Picasso, Le Baiser (The Kiss), 1882.jpg",
"Pablo Picasso, Les Demoiselles d'Avignon , 1907.jpg",
"Pablo Picasso, Les Demoiselles d'Avignon, 1907.jpg",
"Pablo Picasso, Massacre in Korea, 1951.jpg",
"Pablo Picasso, Mediterranean Landscape, 1953.jpg",
"Pablo Picasso, Musketeer and Amor, 1969.jpg",
"Pablo Picasso, Musketeer, 1968.jpg",
"Pablo Picasso, Night Fishing at Antibes, 1939.jpg",
"Pablo Picasso, Nude in a Black Chair, 1932.jpg",
"Pablo Picasso, Nude, Green Leaves and Bust, 1932.jpg",
"Pablo Picasso, Painter and Model, 1928.jpg",
"Pablo Picasso, Portrait of Ambroise Vollard, 1910.jpg",
"Pablo Picasso, Seated Woman (Marie-Therese), 1937.jpg",
"Pablo Picasso, Seated Woman in a Garden, 1938.jpg",
"Pablo Picasso, Small House in the Garden, 1908.jpg",
"Pablo Picasso, Still Life with compote and Glass, 1914.jpg",
"Pablo Picasso, The Sculptor, 1931.jpg",
"Pablo Picasso, The Studio at La Colifornie, 1956.jpg",
"Pablo Picasso, The Weeping Woman, 1937.jpg",
"Pablo Picasso, The Women of Algiers, 1955.jpg",
"Pablo Picasso, Two Nudes, 1906.jpg",
"Pablo Picasso, Woman Dressing Her Hair, 1940.jpg",
"Pablo Picasso, Woman In An Armchair, 1929.jpg",
"Pablo Picasso, Woman under a Pine Tree, 1955.jpg",
"Pablo Picasso, Young Ladies on the Banks of the Seine, 1950.jpg"
];
const vincentVanGogh=["Vincent Van Gogh, Seascape near Les Saintes-Maries-de-la-Mer, 1888.jpg",
"Vincent Van Gogh, Almond Blossom, 1890.jpg",
"Vincent Van Gogh, Autumn Landscape, 1885.jpg",
"Vincent Van Gogh, Café Terrace at Night, 1888.jpg",
"Vincent Van Gogh, Haystacks in Provence, 1888.jpg",
"Vincent Van Gogh, Irises, 1889.jpg",
"Vincent Van Gogh, Lilac Bush, 1889.jpg",
"Vincent Van Gogh, Oleanders, 1888.jpg",
"Vincent Van Gogh, Reclining Nude, 1887.jpg",
"Vincent Van Gogh, Road with Cypress and Star, 1890.jpg",
"Vincent Van Gogh, Self Portrait with Grey Felt Hat, 1887.jpg",
"Vincent Van Gogh, Self Portrait, 1889.jpg",
"Vincent Van Gogh, Skull of a Skeleton with Burning Cigarette, 1885.jpg",
"Vincent Van Gogh, Still life with Irises, 1890.jpg",
"Vincent Van Gogh, Sunset at Wheat Field, 1888.jpg",
"Vincent Van Gogh, The 14th of July, 1886.jpg",
"Vincent Van Gogh, The Bedroom At Arles, 1888.jpg",
"Vincent Van Gogh, The Church at Auvers, 1890.jpg",
"Vincent Van Gogh, The Starry Night Over The Rhone, 1888.jpg",
"Vincent Van Gogh, The Starry Night, 1889.jpg",
"Vincent Van Gogh, Vase with Poppies, 1886.jpg",
"Vincent Van Gogh, Vase with Red Poppies and Daisies, 1890.jpg",
"Vincent Van Gogh, Vase with Twelve Sunflowers, 1888.jpg",
"Vincent Van Gogh, Wheatfield with Crows, 1890.jpg"
];

const sQuotes = ["From what we get we can make a living, what we give, however, makes a life. (Arthur Ashe)",
"Face the thing you fear, and you do away with that fear. (Source Unknown)",
"All you need is love. (John Lennon)",
"Time is the best doctor. – Yiddish Proverb",
"The greatest healing therapy is friendship and love. – Hubert Humphrey",
"The greatest glory in living lies not in never falling, but in rising every time we fall. – Nelson Mandela",
"The way to get started is to quit talking and begin doing. – Walt Disney",
"If life were predictable it would cease to be life, and be without flavor. – Eleanor Roosevelt",
"Life is what happens when you're busy making other plans. – John Lennon",
"Spread love everywhere you go. Let no one ever come to you without leaving happier. – Mother Teresa",
"When you reach the end of your rope, tie a knot in it and hang on. – Franklin D. Roosevelt",
"Always remember that you are absolutely unique. Just like everyone else. – Margaret Mead",
"Don't judge each day by the harvest you reap but by the seeds that you plant. – Robert Louis Stevenson",
"The future belongs to those who believe in the beauty of their dreams. – Eleanor Roosevelt",
"Tell me and I forget. Teach me and I remember. Involve me and I learn. – Benjamin Franklin",
"It is during our darkest moments that we must focus to see the light. – Aristotle",
"Whoever is happy will make others happy too. – Anne Frank",
"Do not go where the path may lead, go instead where there is no path and leave a trail. – Ralph Waldo Emerson",
"Success is not final; failure is not fatal: It is the courage to continue that counts. – Winston S. Churchill",
"Success usually comes to those who are too busy to be looking for it. – Henry David Thoreau",
"The way to get started is to quit talking and begin doing. – Walt Disney",
"If you really look closely, most overnight successes took a long time. – Steve Jobs",
"The secret of success is to do the common thing uncommonly well. – John D. Rockefeller Jr.",
"I find that the harder I work, the more luck I seem to have. – Thomas Jefferson",
"You miss 100% of the shots you don't take. – Wayne Gretzky",
"Whether you think you can or you think you can't, you're right. – Henry Ford",
"I have learned over the years that when one's mind is made up, this diminishes fear. – Rosa Parks",
"I alone cannot change the world, but I can cast a stone across the water to create many ripples. – Mother Teresa",
"Nothing is impossible, the word itself says, ‘I'm possible!' – Audrey Hepburn",
"The question isn't who is going to let me; it's who is going to stop me. – Ayn Rand",
"The only person you are destined to become is the person you decide to be. – Ralph Waldo Emerson"
]
const lQuotes=[
"Truly loving another means letting go of all expectations. It means full acceptance, even celebration of another's personhood. (Karen Casey)",
"There is nothing that can have a more powerful effect on your mental health than the spirit of thankfulness. – George Vandeman",
"The best and most beautiful things in the world cannot be seen or even touched – they must be felt with the heart. – Helen Keller",
"If you look at what you have in life, you'll always have more. If you look at what you don't have in life, you'll never have enough. – Oprah Winfrey",
"The real test is not whether you avoid this failure, because you won't. It's whether you let it harden or shame you into inaction, or whether you learn from it; whether you choose to persevere. – Barack Obama",
"Your time is limited, so don't waste it living someone else's life. Don't be trapped by dogma – which is living with the results of other people's thinking. – Steve Jobs",
"Some people come into our lives and quickly go. Some stay for a while and leve footprints on our hearts. And we are never, ever the same. (Source Unknown)"
];
const quotes=sQuotes.concat(lQuotes);
const paintings = claudeMonet.concat(edgarDegas).concat(marcChagall).concat(pabloPicasso).concat(vincentVanGogh);
const frames = ["frame1.png","frame2.png","frame3.png","frame4.png","frame5.png","frame6.png","frame7.png","frame8.png","frame9.png","frame10.png","frame11.png"];
const fonts = [{font:"CARMENCI", src:"CARMENCI.TTF"},{font:"GeosansLight", src:"GeosansLight.ttf"}, {font:"Sebqor", src:"Sebqor.ttf"}, {font:"Forestia Handed", src:"Forestia Handed.otf"},{font:"TravelingTypewriter", src:"TravelingTypewriter.ttf"}];
const sounds = ["alarm.mp3","jelly.mp3","whoosh.mp3"];
const norahJones = [
 "Come Away With Me.mp3",
"Broken.mp3",
"Nightingale.mp3",
"Lonestar.mp3",
"Wake Me Up.mp3",
"Sunrise.mp3",
"Not Too Late.mp3",
"DontKnowWhy.mp3"];
const kaydenList = [
"Tones and I.mp3",
"Happier.mp3",
"believer.mp3"];
const songs = norahJones.concat(kaydenList);
const assets = paintings.concat(frames).concat(fonts).concat(songs).concat(sounds);
const path = "assets/"
function rHex(shape) {
  let pantone = "#";
  const codes = ["a","b","c","d","e","f","0","1","2","3","4","5","6","7","8","9"];
  loop(6, i=>{
  pantone += shuffle(codes)[0]});
  return(pantone)
}
const inside = rHex().darken(.5);
const outside = rHex().darken(.75);

const waiter = new Waiter(null, null, null, rHex().darken(.25),20).sca(.5);
const frame = new Frame("fit", 1024, 768,inside,outside, assets, path, waiter);
frame.on("ready", () => {
  const stage = frame.stage;
  let stageW = frame.width;
  let stageH = frame.height;

  // put your code here
  let lBackdrop;
  let size=0;
  let scroller;
  let child;
  let wallpaper;
  let toggle;
  let toggleLR;
  let toggleM;
  let toggleP;
  let dial;
  let button1;
  let button2;
  let button3;
  let button4;
  let button5;
  let button6;
  let button7;
  let button8;
  let button8a;
  let button8b;
  let button9;
  let button10;
  let color;
  let spotlight;
  let masterpiece;
  let mFrame;
  let mBackdrop;
  let filter;
  let tSpacing;
  let bSpacing;
  let cSpacing;
  let pen, genArt, cFrame;
  let latest = "";
  let collage=[];
  let blobs=[];
  let box;
  let splash;
  let label;
  let labelC1;
  let labelC2;
  let labelC3;
  let labelD1;
  let labelD2;
  let labelMO1;
  let labelMO2;
  let labelMO3;
  let labelMS1;
  let labelMS2;
  let labelMS3;
  let labelP1;
  let labelP2;
  let labelP3;
  let labelR1;
  let labelR2;
  let labelR3;
  let anchor1;
  let anchor2;
  let pALabel, pNLabel;

  let degrees = 20;
  let radius = 1;
  let artists=[];
  shuffle (paintings);



  landing();
  function landing() {
    lBackdrop=new Container(stageW, stageH).addTo();
    interval(0.1, function() {
      asset("jelly.mp3").play({volume:0.1});
      const artBoard = new Container();
      shuffle(paintings);
      shuffle(frames);
      const paint = asset(paintings[0]).scaleTo(stage,10*(rand(1,4,false))).center(artBoard);
      const pFrame = asset(frames[0]).scaleTo(paint).center(artBoard);
      const mask = new Rectangle(pFrame.width*.85,pFrame.height*.85,faint).center(artBoard);
      paint.setMask(mask);
      artBoard.clone().pos(rand(-200,stageW-100),rand(-200,stageH-100),null,null,lBackdrop).top()
      .animate
      ({
       props:{alpha:0.25},
       time:10,
       // call:(target)=>{target.removeFrom()}
      });;//.rot(obj.count*degrees);
      stage.update();
    }, 80);}

  const pLabel =new Label("Musee d'Osmanthus", 80, "CARMENCI").alp(.5);
  let pane;
  timeout (10, ()=>{
    pane = new Pane ({width:pLabel.width+100,
        height:200,
        fadeTime:.7,
        label:pLabel,
        corner:0,
        modal:false, // modal - (default true) pane will close when user clicks off the pane - set to false to keep pane open
        displayClose:true,
        corner:10}).show();

     asset(norahJones[0]).play({volume:1, interrupt:"any", loop:true});

     pane.on("close", e=>{
       const spacing = 100;
       const wall = new Container().center();
       loop(paintings, (painting, i)=>{
           const artist = painting.split(", ")[0];
           const artP = painting.split(", ")[1];
           const yearTemp = new Label(painting.split(", ")[2]);
           const year = yearTemp.text.substr(0,4);
           const child = new Container();
           const exhibit = asset(painting).scaleTo(stage,null,50).center(child).setMask(null);
           const backdrop = new Rectangle (exhibit.width+.15*exhibit.height, exhibit.height*1.15, white, white,null,10).center(child).bot();
           child.pos(size+spacing*i,0,null, CENTER, wall);
           const aLabel = new Label(artist, 20, "GeosansLight", outside).pos(10,5, LEFT, TOP, child);
           const nLabel = new Label((artP+" ("+year+")"), 20, "GeosansLight", outside).pos(10,5,RIGHT, BOTTOM, child);
           size += exhibit.width+.15*exhibit.height;
        // zog(size)
        stage.update();
      });

  wall.mov(0,-40);

  scroller = new Scroller (wall, 5, null, null, -spacing);
  // zog(scroller.backing2);

  toggle = new Toggle({label:"SECURITY ON",startToggled:true, backgroundColor:red, toggleBackgroundColor:light}).sca(0.5).pos(25,45);
  toggle.label.color=light;
  toggle.label.font="GeosansLight";
  toggle.label.bold=true;
  toggle.label.size=30;
  spotlight = new Circle(200, clear);
  new MotionController(spotlight, "mousemove",21);
  graffiti();
  function graffiti() {
      child = new Label({text:"Musee du Graffiti ", font:"Forestia Handed",color:light, size:100, lineHeight:100}).cache();
      wallpaper = new Tile(child, 10,15).alp(0).addTo().bot().cache();
   stage.update();
  }

    toggle.change(e=>{
      if (e.target.toggled==false){
        spotlight.drag().top().addTo();
        scroller.backing1.setMask(spotlight);
        scroller.backing2.setMask(spotlight);
        toggle.label.text = "SECURITY BREACH";
        toggle.label.color=red;
        toggle.label.backgroundColor=yellow;
        // toggle.label.font="Forestia Handed";
        toggle.label.animate({props:{scale:3,x:200},rewind:true,loop:true, loopCount:5});
        scroller.speed=0;
        dial.currentValue=0;
        frame.outerColor = black;
        frame.color=black;
        toggle.top();
        createjs.Sound.stop();
        asset("alarm.mp3").play({volume:0.1, interrupt:"any", loop:true});
        wallpaper.alp(.5);
        stage.update();
        // new Swiper(stage,scroller,"x",2);

      }else{
        createjs.Sound.stop();
        shuffle(kaydenList);
        asset(kaydenList[0]).play({volume:0.5, interrupt:"any", loop:true});
        scroller.backing1.setMask(null);
        scroller.backing2.setMask(null);
        frame.outerColor = outside;
        frame.color=inside;
        // toggle.label.animate(null);
        toggle.label.text = "MUSEUM TAKEN OVER BY INTRUDER";
        // toggle.label.color=light;
        toggle.top();
        scroller.speed=1;
        stage.update()
        // new Swiper(stage,scroller,"speed",1)
        // Swiper(swipeOn, target, property, sensitivity, horizontal, min, max, damp, integer, factor, loop, pauseTime)
      }
    });

    toggle2();

    function toggle2 () {
    toggleLR = new Toggle({label:"R", labelLeft:"L", backgroundColor:outside, toggleBackgroundColor:light}).sca(0.5).centerReg().pos(0,75,CENTER,BOTTOM);
    toggleLR.label.color=light;
    toggleLR.label.bold=true;
    toggleLR.labelLeft.color=light;
    toggleLR.label.size=20;
    toggleLR.labelLeft.bold=true;
    toggleLR.labelLeft.size=20;}


    toggleLR.change(e=>{
      if (e.target.toggled==false){
        scroller.direction = 1
      }else{

        scroller.direction = -1
      }
    });

    dial1 ();
    function dial1() {
    dial = new Dial(0,50,0,50,light,outside,null, null, false).centerReg().pos(-125,70,CENTER,BOTTOM);
    dial.currentValue=1;
    dial.change(e=>{
      scroller.speed = dial.currentValue;

    });}

    stop();
    function stop(){
      button1 = new Button(100,100,"STOP",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().pos(125,70,CENTER,BOTTOM)
            .tap(e=>{
                  scroller.speed = 0;
                });
      button1.label.size=20;
      button1.label.bold=true;
    }


    scroller.backing1.tap(e=>{
      // zog(e.target);
      if(toggle.toggled==false){
        toggle.removeFrom();
        toggleLR.removeFrom();
        dial.removeFrom();
        button1.removeFrom();
        scroller.backing1.removeFrom();
        scroller.backing2.removeFrom();
        frame.outerColor = outside;
        frame.color=inside;
        // wallpaper.removeFrom();
        // lBackdrop.removeFrom();
        createjs.Sound.stop();
        canvas(e.target)}
    });

    scroller.backing2.tap(e=>{
      // zog(e.target);
      if(toggle.toggled==false){
        toggle.removeFrom();
        toggleLR.removeFrom();
        dial.removeFrom();
        button1.removeFrom();
        scroller.backing1.removeFrom();
        scroller.backing2.removeFrom();
        scroller.speed=0;
        frame.outerColor = outside;
        frame.color=inside;
        // wallpaper.removeFrom();
        // lBackdrop.removeFrom();
        createjs.Sound.stop();
        canvas(e.target)}
    });


    function canvas(pic){
      // console.log(pic.fileID);
      mFrame = new Container();
      masterpiece = pic.centerReg(mFrame).setMask(null);//.mov(0,-50);

      if (masterpiece.width>masterpiece.height*2) {
       masterpiece.scaleTo(stage,90)
       mBackdrop = new Rectangle (masterpiece.width+.15*masterpiece.height, masterpiece.height*1.15,white,outside,5,10).center(mFrame).bot();
       mFrame.center();
       tSpacing=0;
       bSpacing=75;
       tRSpacing=-25;
       cSpacing=(stageH-mFrame.height)/4;
       // console.log("longest");
      } else
      if (masterpiece.width>masterpiece.height*1.75) {
       masterpiece.scaleTo(stage,82.5)
       mBackdrop = new Rectangle (masterpiece.width+.15*masterpiece.height, masterpiece.height*1.15,white,outside,5,10).center(mFrame).bot();
       mFrame.center();
       tSpacing=50;
       bSpacing=75;
       tRSpacing=25;
       cSpacing=(stageH-mFrame.height)/4;
       // console.log("long");
      }else if (masterpiece.width>masterpiece.height*1.5) {
       masterpiece.scaleTo(stage,80)
       mBackdrop = new Rectangle (masterpiece.width+.15*masterpiece.height, masterpiece.height*1.15,white,outside,5,10).center(mFrame).bot();
       mFrame.center();
       tSpacing=60;
       bSpacing=75;
       tRSpacing=35;
       cSpacing=(stageH-mFrame.height)/8;
       // console.log("lon");
      }else if (masterpiece.width>masterpiece.height) {
       masterpiece.scaleTo(stage,null,70)
       mBackdrop = new Rectangle (masterpiece.width+.15*masterpiece.height, masterpiece.height*1.15,white,outside,5,10).center(mFrame).bot();
       mFrame.center();
       tSpacing=70;
       tRSpacing=45;
       bSpacing=100;
       cSpacing=10;
       // console.log("shorter");
      }else {
       masterpiece.scaleTo(stage,null,75)
       mBackdrop = new Rectangle (masterpiece.width+.15*masterpiece.height, masterpiece.height*1.15,white,outside,5,10).center(mFrame).bot();
       mFrame.center();
       tSpacing=100;
       tRSpacing=75;
       bSpacing=100;
       cSpacing=5;
       tRSpacing=tSpacing;
       // console.log("short");
      }
      mFrame.on("dblclick",e=>{
       e.target.removeFrom();
      });

      filter = new Rectangle(masterpiece.width, masterpiece.height).centerReg().loc(masterpiece).alp(0);
      // const picT = new Label(pic);
      const pArtist = pic.fileID.split(", ")[0];
      const pArtP = pic.fileID.split(", ")[1];
      const pYearTemp = new Label(pic.fileID.split(", ")[2]);
      const pYear = pYearTemp.text.substr(0,4);
      pALabel = new Label(pArtist, 20, "GeosansLight", outside).pos((mBackdrop.width-masterpiece.width)/2,(mBackdrop.height-masterpiece.height)/8, RIGHT, TOP, mFrame);
      pNLabel = new Label((pArtP+" ("+pYear+")"), 20, "GeosansLight", outside).pos((mBackdrop.width-masterpiece.width)/2,(mBackdrop.height-masterpiece.height)/8,LEFT, BOTTOM, mFrame);
      masterT();
      stage.update();

    }


    function masterT () {
      anchor1=new Circle({radius:0}).pos(-tSpacing,0, LEFT, TOP, mFrame);
      if (toggleM) toggleM.removeFrom();
      toggleM = new Toggle({backgroundColor:outside, toggleBackgroundColor:light, startToggled:true}).sca(.7).pos(0,0, LEFT, TOP, mFrame);
      labelMO1=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
      labelMO2=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
      labelMO3=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
      masterpiece.on("mouseover", e=>{
       labelMO1.text="Double click to remove anything unwanted";
       labelMO1.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
       timeout(4, ()=>{
        labelMO2.text="Dial and colorpicker will be picked up by any element in use";
        labelMO2.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
        timeout(4, ()=>{
         labelMO3.text="Start and have fun now!";
         labelMO3.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
        });
       });
      });
      toggleM.change(e=>{
        if (e.target.toggled==false){
          button2.dispose();
          button3.dispose();
          button4.dispose();
          button5.dispose();
          button6.dispose();
          color.dispose();
          toggleP.dispose();
          dial.dispose()
          button7.dispose();
          button8.dispose();
          button8a.dispose();
          button8b.dispose();
          button9.dispose();
          button10.dispose();
          if (labelC1) labelC1.dispose();
          if (labelC2) labelC2.dispose();
          if (labelC3) labelC3.dispose();
          if (labelD1) labelD1.dispose();
          if (labelD2) labelD2.dispose();
          if (labelMO1) labelMO1.dispose();
          if (labelMO2) labelMO2.dispose();
          if (labelMO3) labelMO3.dispose();
          if (labelMS1) labelMS1.dispose();
          if (labelMS2) labelMS2.dispose();
          if (labelMS3) labelMS3.dispose();
          if (labelP1) labelP1.dispose();
          if (labelP2) labelP2.dispose();
          if (labelP3) labelP3.dispose();
          if (labelR1) labelR1.dispose();
          if (labelR2) labelR2.dispose();
          if (labelR3) labelR3.dispose();
          if (pALabel) pALabel.dispose();
          if (pNLabel) pNLabel.dispose();
          if (box) box.dispose();
          mBackdrop.dispose();
          masterpiece.dispose();
          if (pen) pen.dispose();
          if (cFrame) cFrame.dispose();
          if (genArt) genArt.dispose();
          if (filter) filter.dispose();


        }else{
         //mBackdrop.alp(1);
         //masterpiece.alp(1);
         shuffle(paintings);
         canvas(asset(paintings[0]).clone().setMask(null));
        }
      });




      motionPen();

      function motionPen() {
        // console.log(frame, pic);
        pen = new Pen({
          penType:"line",//line
          damp:0,
          size:10,
          onTop:true}).center();
        new MotionController({
          target:pen,
          type:"pressmove",
          mousedownIncludes:[masterpiece,mFrame,lBackdrop,filter,wallpaper,lBackdrop],
          speed:20
        });
      stage.update();}



     VVG();
      function VVG(){
        button6 = new Button(100,100,"Van Gogh",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().pos(0,0, LEFT, BOTTOM, mFrame);
        button6.label.size=20;
        button6.label.bold=true;
        // zog(button6.width/2);
        button6.tap(e=>{
         shuffle(vincentVanGogh);
         cFrame = new Container().addTo(mFrame);
         collage.push(asset(vincentVanGogh[0]).setMask(null).clone().centerReg(cFrame));
         blobs.push(new Blob({shape:"circle",color:faint, onTop:true}).centerReg(cFrame));
         const j=blobs.length-1;
         //artists.push(new Label ({text:collage[j].fileID.split(", ")[0],font:"GeosansLight",color:white,lineWidth:blobs[j].width*0.45, align:"center"}).sca(.5).centerReg(cFrame));
         collage[j].setMask(blobs[j]);

         loop(blobs, (blob,i)=>{
          blob.on("mousedown", e=>{
           collage[i].level = blob.level-1;
           //artists[i].level = blob.level-1;
           latest=blob;
           zog(latest);
          });

          blob.on("pressmove", e=>{
           collage[i].loc(blob.shape);
           //artists[i].loc(blob.shape)
           });
           latest=collage[i];
          });

         });
     }

     PP();
      function PP(){
        button5 = new Button(100,100,"Piccaso",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(button6).mov(0,-bSpacing);
        button5.label.size=20;
        button5.label.bold=true;

        button5.tap(e=>{
         shuffle(pabloPicasso);
         const cFrame = new Container().addTo(mFrame);
         collage.push(asset(pabloPicasso[0]).setMask(null).clone().centerReg(cFrame));
         blobs.push(new Blob({shape:"circle",color:faint, onTop:true}).centerReg(cFrame));
         const j=blobs.length-1;
         //artists.push(new Label ({text:collage[j].fileID.split(", ")[0],font:"GeosansLight",color:white,lineWidth:blobs[j].width*0.45, align:"center"}).sca(.5).centerReg(cFrame));
         collage[j].setMask(blobs[j]);

         loop(blobs, (blob,i)=>{
          blob.on("mousedown", e=>{
           collage[i].level = blob.level-1;
           //artists[i].level = blob.level-1;
           latest=blob;
           zog(latest);
          });

          blob.on("pressmove", e=>{
           collage[i].loc(blob.shape);
           //artists[i].loc(blob.shape)
           });
           latest=collage[i];
          });

         });
     }

     MC();
      function MC(){
        button4 = new Button(100,100,"Chagall",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(button5).mov(0,-bSpacing);
        button4.label.size=20;
        button4.label.bold=true;

        button4.tap(e=>{
         shuffle(marcChagall);
         const cFrame = new Container().addTo(mFrame);
         collage.push(asset(marcChagall[0]).setMask(null).clone().centerReg(cFrame));
         blobs.push(new Blob({shape:"circle",color:faint, onTop:true}).centerReg(cFrame));
         const j=blobs.length-1;
         //artists.push(new Label ({text:collage[j].fileID.split(", ")[0],font:"GeosansLight",color:white,lineWidth:blobs[j].width*0.45, align:"center"}).sca(.5).centerReg(cFrame));
         collage[j].setMask(blobs[j]);

         loop(blobs, (blob,i)=>{
          blob.on("mousedown", e=>{
           collage[i].level = blob.level-1;
           //artists[i].level = blob.level-1;
           latest=blob;
           zog(latest);
          });

          blob.on("pressmove", e=>{
           collage[i].loc(blob.shape);
           //artists[i].loc(blob.shape)
           });
           latest=collage[i];
          });

         });
     }

     ED();
      function ED(){
        button3 = new Button(100,100,"Degas",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(button4).mov(0,-bSpacing);
        button3.label.size=20;
        button3.label.bold=true;

        button3.tap(e=>{
         shuffle(edgarDegas);
         const cFrame = new Container().addTo(mFrame);
         collage.push(asset(edgarDegas[0]).setMask(null).clone().centerReg(cFrame));
         blobs.push(new Blob({shape:"circle",color:faint, onTop:true}).centerReg(cFrame));
         const j=blobs.length-1;
         //artists.push(new Label ({text:collage[j].fileID.split(", ")[0],font:"GeosansLight",color:white,lineWidth:blobs[j].width*0.45, align:"center"}).sca(.5).centerReg(cFrame));
         collage[j].setMask(blobs[j]);

         loop(blobs, (blob,i)=>{
          blob.on("mousedown", e=>{
           collage[i].level = blob.level-1;
           //artists[i].level = blob.level-1;
           latest=blob;
           zog(latest);
          });

          blob.on("pressmove", e=>{
           collage[i].loc(blob.shape);
           //artists[i].loc(blob.shape)
           });
           latest=collage[i];
          });

         });
     }

    	CM();
      function CM(){
        button2 = new Button(100,100,"Monet",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(button3).mov(0,-bSpacing);
        button2.label.size=20;
        button2.label.bold=true;

        button2.tap(e=>{
         shuffle(claudeMonet);
         const cFrame = new Container().addTo(mFrame);
         collage.push(asset(claudeMonet[0]).setMask(null).clone().centerReg(cFrame));
         blobs.push(new Blob({shape:"circle",color:faint, onTop:true}).centerReg(cFrame));
         const j=blobs.length-1;
         //artists.push(new Label ({text:collage[j].fileID.split(", ")[0],font:"GeosansLight",color:white,lineWidth:blobs[j].width*0.45, align:"center"}).sca(.5).centerReg(cFrame));
         collage[j].setMask(blobs[j]);

         loop(blobs, (blob,i)=>{
          blob.on("mousedown", e=>{
           collage[i].level = blob.level-1;
           //artists[i].level = blob.level-1;
           latest=blob;
           zog(latest);
          });

          blob.on("pressmove", e=>{
           collage[i].loc(blob.shape);
           //artists[i].loc(blob.shape)
           });
           latest=collage[i];
          });

         });
     }


    allDial();
    function allDial() {
    dial = new Dial(0,50,0,50,light,outside,null, null, false).centerReg().loc(button2).mov(0,-bSpacing);
    dial.currentValue=5;

    dial.change(e=>{
      if (latest==pen){
      latest.size = dial.currentValue;}
      else {
       // zog(latest);
      latest.sca(dial.currentValue*.1);}

    });
    labelD1=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
    labelD2=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
    dial.on("mouseover", e=>{
      labelD1.text="Resize *the* element in use";
      labelD1.animate({props:{alpha:1},time:1,rewind:true, rewindWait:2});
      timeout(3, ()=>{
       labelD2.text="Hit toggle or button to re-activate an element, if needed";
       labelD2.animate({props:{alpha:1},time:1,rewind:true, rewindWait:2});
      });
    });
    }

     musicB();

     function musicB() {
      anchor2=new Circle(0).pos(-tRSpacing,25, RIGHT, TOP, mFrame);
      button7 = new Button(100,100,"Music",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(anchor2).mov(0,button2.height/2).alp(0).animate({props:{alpha:1}, time:1});
      button7.label.size=20;
      button7.label.bold=true;

      button7.tap(e=>{
       createjs.Sound.stop();
       shuffle(songs);
       asset(songs[0]).play({volume:.5, interrupt:"any", loop:true});
      });

      button7.on("mouseover", e=>{
       createjs.Sound.stop()

      });

      labelMS1=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
      labelMS2=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
      labelMS3=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
      button7.on("mouseover", e=>{
       labelMS1.text="Click here to pick a song from Kayden's and my favourite list";
       labelMS1.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
       timeout(4, ()=>{
        labelMS2.text="Mouse over the button to stop the music anytime";
        labelMS2.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
        timeout(4, ()=>{
         labelMS3.text="Now enjoy!";
         labelMS3.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
        });
       });
      });


     }


     resize();

     function resize() {
      button8 = new Button(100,100,"Collage",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(button7).mov(0,bSpacing).alp(0).animate({props:{alpha:1}, time:1});
      button8.label.size=20;
      button8.label.bold=true;

      button8.tap(e=>{

      loop(blobs, (blob,i)=>{
       blob.on("click", e=>{
        latest=blob;
        zog(latest);
       });

       blob.on("mouseover", e=>{
        latest=collage[i];
        console.log(latest);
       });

      });

     });


      labelR1=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
      labelR2=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
      labelR3=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
      button8.on("mouseover", e=>{
       labelR1.text="Press here first before resizing a collage element with dial";
       labelR1.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
       timeout(4, ()=>{
        labelR2.text="Click on *the* collage element before resizing";
        labelR2.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
        timeout(4, ()=>{
         labelR3.text="Mouse over *the* collage element image before zooming in and out";
         labelR3.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
        });
       });
      });



     }

     gen();

     function gen() {
      button8a = new Button(100,100,"Gen Art",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(button8).mov(0,bSpacing).alp(0).animate({props:{alpha:1}, time:1});
      button8a.label.size=20;
      button8a.label.bold=true;

      button8a.tap(e=>{
       genArt = new Container();
       const reg=rand(0,10);
       const gSize = rand(50,200);
       const shapes = [new Circle(gSize,faint,white,gSize/100).reg(reg-gSize,reg-gSize), new Rectangle(gSize,gSize,faint,white,gSize/100).reg(reg,reg), new Triangle(gSize,gSize,gSize,faint,white,gSize/100).reg(reg,reg)];
       const times = rand(10,100);
       shuffle(shapes);
       interval(.01, function(obj) {
        shapes[0].clone().addTo(genArt).rot(obj.count *360/times).cache();
       },times);

       genArt.center(mFrame).top().drag({all:true});
       latest=genArt;

       genArt.tap(e=>{
       latest.genArt;
       });

       genArt.on("dblclick",e=>{
        genArt.removeFrom();
       });

     });
     }


    filterB();

     function filterB() {
      button8b = new Button(100,100,"filter",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(button8a).mov(0,bSpacing).alp(0).animate({props:{alpha:1}, time:1});
      button8b.label.size=20;
      button8b.label.bold=true;

      button8b.tap(e=>{
       filter.alp(.5);
       latest=filter;
       });

      button8b.on("mouseover", e=>{
       filter.alp(0);
      });

     }

     cookieB();
     function cookieB(){
       button9 = new Button(100,100,"Cookie",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(button8b).mov(0,bSpacing);
       button9.label.size=20;
       button9.label.bold=true;


     button9.tap(e=>{
      shuffle(quotes);
      // const title = new Label({text:"Fortune Cookie",font:"Sebqor",color:rHex().darken(.5)});
      box = new Container().center(mFrame).top().drag({all:true});
      splash = new Rectangle(masterpiece.width*0.75, masterpiece.height*.75,white,null,null,10).centerReg().center(box).alp(.5);
      if (quotes[0].length<120){
       label = new Label({text:quotes[0],font:"TravelingTypewriter",color:rHex().darken(.5), lineWidth:splash.width*0.8,lineHeight:39,align:"center"}).centerReg().center(box);
      }else{
       label = new Label({text:quotes[0],font:"TravelingTypewriter", size: 24,color:rHex().darken(.5), lineWidth:splash.width*0.8,lineHeight:26,align:"center"}).centerReg().center(box);
      }



      latest=splash;
      // label.center(splash);

     label.on("click", e=>{latest=label});
     splash.on("click", e=>{latest=splash});

     splash.on("dblclick",e=>{
      zog(box);
      box.removeFrom();
      // label.removeFrom();

     });


     });


     labelC1=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
     labelC2=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
     labelC3=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
     button9.on("mouseover", e=>{
      labelC1.text="Click here to get a fortune cookie";
      labelC1.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
      timeout(4, ()=>{
       labelC2.text="Double click *the* cookie to remove";
       labelC2.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
       timeout(4, ()=>{
        labelC3.text="Pick a new one anytime!";
        labelC3.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
       });
      });
     });

    }

    colorB();
    function colorB(){
     color= new ColorPicker({
       width: 400,
       circles:true,
       backgroundColor:0, // shadowColor, shadowBlur, spacing
       colors:[rHex(),rHex(),rHex(),rHex(),rHex(),rHex(),rHex(),rHex(),rHex(),rHex()]
     }).centerReg().pos(0,cSpacing,CENTER,BOTTOM).alp(0).animate({props:{alpha:1}, time:1});
     color.on("change", e=>{
       latest.color=e.target.selectedColor;
     })
    }

    penT();

    function penT () {
     toggleP = new Toggle({backgroundColor:outside, toggleBackgroundColor:light}).sca(.7).centerReg().loc(color).mov(-color.width/2-50,0);
     pen.color=color.selectedColor;
     toggleP.change(e=>{
       if (e.target.toggled==false){
         pen.damp= 0;
         pen.color=color.selectedColor;
          // mFrame.drag(false);
       }else{
         pen.damp= 1;
         latest=pen;
         // mFrame.drag(true);
       }
     });

     labelP1=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
     labelP2=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
     labelP3=new Label({color:white, labelWidth:stageW, backgroundColor:inside, font:"GeosansLight", bold:true, align:"center"}).sca(1).alp(0).centerReg().pos(0,0,CENTER);
     toggleP.on("mouseover", e=>{
      labelP1.text="Turn on your pen here";
      labelP1.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
      timeout(4, ()=>{
       labelP2.text="Resize stroke with dial, pick a color with color picker";
       labelP2.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
       timeout(4, ()=>{
        labelP3.text="Now bring your calligraphy or graffiti to live!";
        labelP3.animate({props:{alpha:1},time:1,rewind:true, rewindWait:3});
       });
      });
     });

    }

     saveB();
     function saveB(){
       button10 = new Button(100,100,"Save",light,outside,outside,light,null,null,null,50,-1).sca(.5).centerReg().loc(button9).mov(0,bSpacing).alp(0).animate({props:{alpha:1}, time:1});
       button10.label.size=20;
       button10.label.bold=true;

       button10.tap(e=>{
       toggleM.removeFrom();
       button2.removeFrom();
       button3.removeFrom();
       button4.removeFrom();
       button5.removeFrom();
       button6.removeFrom();
       color.removeFrom();
       toggleP.removeFrom();
       dial.removeFrom();
       button7.removeFrom();
       button8.removeFrom();
       button8a.removeFrom();
       button8b.removeFrom();
       button9.removeFrom();
       button10.removeFrom();
       wallpaper.removeFrom();
       lBackdrop.removeFrom();
       labelC1.removeFrom();
       labelC2.removeFrom();
       labelC3.removeFrom();
       labelD1.removeFrom();
       labelD2.removeFrom();
       labelMO1.removeFrom();
       labelMO2.removeFrom();
       labelMO3.removeFrom();
       labelMS1.removeFrom();
       labelMS2.removeFrom();
       labelMS3.removeFrom();
       labelP1.removeFrom();
       labelP2.removeFrom();
       labelP3.removeFrom();
       labelR1.removeFrom();
       labelR2.removeFrom();
       labelR3.removeFrom();
       new Loader().save(stage,"museedosmanthus");
       toggleM.loc(anchor1);
       button2.loc(button2);
       button3.loc(button3);
       button4.loc(button4);
       button5.loc(button5);
       button6.loc(button6);
       color.loc(color);
       toggleP.loc(toggleP);
       dial.loc(dial);
       button7.loc(button7);
       button8.loc(button8);
       button8a.loc(button8a);
       button8b.loc(button8b);
       button9.loc(button9);
       button10.loc(button10);
       wallpaper.loc(wallpaper).bot();
       lBackdrop.loc(lBackdrop).bot();
       });

    }





}


});

});





  stage.update();
  });



</script>
<meta name="viewport" content="width=device-width, user-scalable=no" />
</head>
<body></body>
</html>
